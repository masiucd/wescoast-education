(()=>{"use strict";var t,e,n,a=function(t){var e=t.id,n=t.firstName,a=t.lastName,i=t.email,o=t.age,r=t.type;return{id:e,firstName:n,lastName:a,email:i,age:o,type:r,showCase:function(){return{name:n+" "+a,email:i,age:""+o}}}},i=[a({id:1,firstName:"mark",lastName:"smith",email:"mark@io.com",age:37,type:"t"}),a({id:2,firstName:"george",lastName:"pierre",email:"pierre@io.com",age:48,type:"t"}),a({id:3,firstName:"carl",lastName:"carl",email:"carl@io.com",age:36,type:"t"}),a({id:4,firstName:"bob",lastName:"rooney",email:"bob@io.com",age:31,type:"t"})],o=function(t,e,n,a){var i=function(){return'   \n    <div class="table-wrapper wrapper-'+n+'">\n    <table class="'+n+'">\n        <caption>'+n+"</caption>\n        <thead>\n          "+a.map((function(t){return"<th>"+t+"</th>"})).join("")+"\n        </thead>\n        <tbody>\n          "+e.map((function(t){var e=t.showCase();return'\n                <tr data-id="'+t.id+'" id="'+("s"===t.type?"student-"+t.id:"t"===t.type?"teacher-"+t.id:"course-"+t.id)+'">\n                '+Object.keys(e).map((function(t){return'<td data-info="'+e[t]+'">'+e[t]+"</td>"})).join("")+"\n                </tr>\n          "})).join("")+"\n        </tbody>\n      </table>\n    </div>\n    "};return{init:function(){t.innerHTML=i()},rawHtml:i,onClick:function(t){document.querySelectorAll("tr").forEach((function(e){return e.addEventListener("click",(function(){"student"===e.id.split("-")[0]&&t(parseInt(e.dataset.id,10))}))}))}}},r=function(t,e,n,a){return{id:t,title:e,about:n,duration:a,showCase:function(){return{title:e,duration:a}}}},s=[r(1,"french","french class","5h"),r(2,"history","history class","3h"),r(3,"math","math class","4h"),r(4,"english","english class","3h")],c=function(t){var e=t.id,n=t.firstName,a=t.lastName,i=t.email,o=t.age,r=t.type;return{id:e,firstName:n,lastName:a,email:i,age:o,type:r,showCase:function(){return{name:n+" "+a,email:i,age:""+o}}}},l=[c({id:1,firstName:"bob",lastName:"smith",email:"bob@io.com",age:17,type:"s"}),c({id:2,firstName:"joe",lastName:"jonsson",email:"joe@io.com",age:18,type:"s"}),c({id:3,firstName:"philip",lastName:"oconnor",email:"ph@io.com",age:16,type:"s"}),c({id:4,firstName:"anna",lastName:"franklin",email:"anna@io.com",age:21,type:"s"})];(t=document.getElementById("students"),e=o(t,l,"students",["name","email","age"]),n=function(t){l.find((function(e){return e.id===t})),function(t,e,n,a,i){var r=o(t,n,a,i);return{init:function(){!function(){var e;t.classList.add("show-modal");var n='\n    <div class="modal-container">\n      '+r.rawHtml()+'\n      <button class="close-modal">\n        ‚ùå\n      </button>\n    </div>\n    ';t.innerHTML=n,null===(e=document.querySelector(".close-modal"))||void 0===e||e.addEventListener("click",(function(){t.classList.remove("show-modal")}));var a=document.querySelectorAll(".modal tbody tr td");Array.from(a).forEach((function(t){var e=t.dataset.info;"english"!==e&&"french"!==e&&"history"!==e&&"math"!==e||t.addEventListener("click",(function(t){console.log("info",e)}))}))}()}}}(document.querySelector(".modal"),0,s,"courses",["title","duration"]).init()},{init:function(){e.init(),e.onClick(n)}}).init(),function(t){var e=o(t,i,"teachers",["name","email","age"]);return{init:function(){e.init()}}}(document.getElementById("teachers")).init()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY2hvb2wtZGF0YS8uL3NyYy93ZXNjb2FzdDMuMC9tb2RlbHMvdGVhY2hlci50cyIsIndlYnBhY2s6Ly9zY2hvb2wtZGF0YS8uL3NyYy93ZXNjb2FzdDMuMC9jb250cm9sbGVycy9zdHVkZW50LnRzIiwid2VicGFjazovL3NjaG9vbC1kYXRhLy4vc3JjL3dlc2NvYXN0My4wL3ZpZXdzL2xpc3Qtdmlldy50cyIsIndlYnBhY2s6Ly9zY2hvb2wtZGF0YS8uL3NyYy93ZXNjb2FzdDMuMC9tb2RlbHMvY291cnNlLnRzIiwid2VicGFjazovL3NjaG9vbC1kYXRhLy4vc3JjL3dlc2NvYXN0My4wL21vZGVscy9zdHVkZW50cy50cyIsIndlYnBhY2s6Ly9zY2hvb2wtZGF0YS8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly9zY2hvb2wtZGF0YS8uL3NyYy93ZXNjb2FzdDMuMC92aWV3cy9tb2RhbC12aWV3LnRzIiwid2VicGFjazovL3NjaG9vbC1kYXRhLy4vc3JjL3dlc2NvYXN0My4wL2NvbnRyb2xsZXJzL3RlYWNoZXIudHMiXSwibmFtZXMiOlsicGFyZW50RWxlbWVudCIsInZpZXciLCJnZXRTdHVkZW50IiwidGVhY2hlciIsImlkIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJlbWFpbCIsImFnZSIsInR5cGUiLCJzaG93Q2FzZSIsIm5hbWUiLCJ0ZWFjaGVycyIsImxpc3RWaWV3IiwieHMiLCJ0aXRsZSIsInN1YlRpdGxlcyIsInJhd0h0bWwiLCJtYXAiLCJ0Iiwiam9pbiIsImRhdGEiLCJPYmplY3QiLCJrZXlzIiwia2V5IiwiaW5pdCIsImlubmVySFRNTCIsIm9uQ2xpY2siLCJoYW5kbGVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsInRyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNwbGl0IiwicGFyc2VJbnQiLCJkYXRhc2V0IiwiY291cnNlIiwiYWJvdXQiLCJkdXJhdGlvbiIsImNvdXJzZXMiLCJzdHVkZW50Iiwic3R1ZGVudHMiLCJnZXRFbGVtZW50QnlJZCIsImZpbmQiLCJwZXJzb24iLCJjbGFzc0xpc3QiLCJhZGQiLCJodG1sIiwicXVlcnlTZWxlY3RvciIsInJlbW92ZSIsInRkcyIsIkFycmF5IiwiZnJvbSIsInRkIiwiaW5mbyIsImV2ZW50IiwiY29uc29sZSIsImxvZyIsInJlbmRlciIsIm1vZGFsVmlldyIsInRlYWNoZXJDb250cm9sbGVyIl0sIm1hcHBpbmdzIjoibUJBRUEsSUNJMkJBLEVBQ25CQyxFQU1BQyxFRFhGQyxFQUFVLFNBQUMsRyxJQUFFQyxFQUFFLEtBQUVDLEVBQVMsWUFBRUMsRUFBUSxXQUFFQyxFQUFLLFFBQUVDLEVBQUcsTUFBRUMsRUFBSSxPQVMxRCxNQUFPLENBQ0xMLEdBQUUsRUFDRkMsVUFBUyxFQUNUQyxTQUFRLEVBQ1JDLE1BQUssRUFDTEMsSUFBRyxFQUNIQyxLQUFJLEVBQ0pDLFNBZmUsV0FDZixNQUFPLENBQ0xDLEtBQVNOLEVBQVMsSUFBSUMsRUFDdEJDLE1BQUssRUFDTEMsSUFBSyxHQUFHQSxNQWVSSSxFQUFXLENBQ2ZULEVBQVEsQ0FBRUMsR0FBSSxFQUFHQyxVQUFXLE9BQVFDLFNBQVUsUUFBU0MsTUFBTyxjQUFlQyxJQUFLLEdBQUlDLEtBQU0sTUFDNUZOLEVBQVEsQ0FBRUMsR0FBSSxFQUFHQyxVQUFXLFNBQVVDLFNBQVUsU0FBVUMsTUFBTyxnQkFBaUJDLElBQUssR0FBSUMsS0FBTSxNQUNqR04sRUFBUSxDQUFFQyxHQUFJLEVBQUdDLFVBQVcsT0FBUUMsU0FBVSxPQUFRQyxNQUFPLGNBQWVDLElBQUssR0FBSUMsS0FBTSxNQUMzRk4sRUFBUSxDQUFFQyxHQUFJLEVBQUdDLFVBQVcsTUFBT0MsU0FBVSxTQUFVQyxNQUFPLGFBQWNDLElBQUssR0FBSUMsS0FBTSxPRTFCdkZJLEVBQVcsU0FBSWIsRUFBK0JjLEVBQVNDLEVBQWVDLEdBQzFFLElBQU1DLEVBQVUsV0FDZCxvREFDb0NGLEVBQUsseUJBQ3pCQSxFQUFLLHdCQUNOQSxFQUFLLDBDQUVaQyxFQUFV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QU8saUJBR2pDLElBQU1DLEVBQU10QixTQUFTQyxpQkFBaUIsc0JBRXRDc0IsTUFBTUMsS0FBS0YsR0FBS3BCLFNBQVEsU0FBQXVCLEdBQ3RCLElBQ01DLEVBRFlELEVBQ0tsQixRQUFRbUIsS0FFbEIsWUFBVEEsR0FBK0IsV0FBVEEsR0FBOEIsWUFBVEEsR0FBK0IsU0FBVEEsR0FDbkVELEVBQUdyQixpQkFBaUIsU0FBUyxTQUFDdUIsR0FDNUJDLFFBQVFDLElBQUksT0FBUUgsU0FjMUJJLEtMckNBQyxDQURjL0IsU0FBU29CLGNBQWMsVUFDcEJSLEVBQVNELEVBQVMsVUFBVyxDQUFDLFFBQVMsYUFBYWYsUUFZaEUsQ0FDTEEsS0FOVyxXQWJYeEIsRUFBS3dCLE9BVUx4QixFQUFLMEIsUUFBUXpCLE1JaEIwRHVCLE9FRGpELFNBQUN6QixHQUN6QixJQUFNQyxFQUFPWSxFQUFTYixFQUFlWSxFQUFVLFdBQVksQ0FBQyxPQUFRLFFBQVMsUUFTN0UsTUFBTyxDQUNMYSxLQUpXLFdBSFh4QixFQUFLd0IsU0ZGUG9DLENBQWtCaEMsU0FBU2MsZUFBZSxhQUErQmxCLFEiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGVyc29uIH0gZnJvbSBcIi4uL3R5cGVzXCJcblxuY29uc3QgdGVhY2hlciA9ICh7IGlkLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBlbWFpbCwgYWdlLCB0eXBlIH06IFBlcnNvbikgPT4ge1xuICBjb25zdCBzaG93Q2FzZSA9ICgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogYCR7Zmlyc3ROYW1lfSAke2xhc3ROYW1lfWAsXG4gICAgICBlbWFpbCxcbiAgICAgIGFnZTogYCR7YWdlfWAsXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpZCxcbiAgICBmaXJzdE5hbWUsXG4gICAgbGFzdE5hbWUsXG4gICAgZW1haWwsXG4gICAgYWdlLFxuICAgIHR5cGUsXG4gICAgc2hvd0Nhc2UsXG4gIH1cbn1cblxuY29uc3QgdGVhY2hlcnMgPSBbXG4gIHRlYWNoZXIoeyBpZDogMSwgZmlyc3ROYW1lOiBcIm1hcmtcIiwgbGFzdE5hbWU6IFwic21pdGhcIiwgZW1haWw6IFwibWFya0Bpby5jb21cIiwgYWdlOiAzNywgdHlwZTogXCJ0XCIgfSksXG4gIHRlYWNoZXIoeyBpZDogMiwgZmlyc3ROYW1lOiBcImdlb3JnZVwiLCBsYXN0TmFtZTogXCJwaWVycmVcIiwgZW1haWw6IFwicGllcnJlQGlvLmNvbVwiLCBhZ2U6IDQ4LCB0eXBlOiBcInRcIiB9KSxcbiAgdGVhY2hlcih7IGlkOiAzLCBmaXJzdE5hbWU6IFwiY2FybFwiLCBsYXN0TmFtZTogXCJjYXJsXCIsIGVtYWlsOiBcImNhcmxAaW8uY29tXCIsIGFnZTogMzYsIHR5cGU6IFwidFwiIH0pLFxuICB0ZWFjaGVyKHsgaWQ6IDQsIGZpcnN0TmFtZTogXCJib2JcIiwgbGFzdE5hbWU6IFwicm9vbmV5XCIsIGVtYWlsOiBcImJvYkBpby5jb21cIiwgYWdlOiAzMSwgdHlwZTogXCJ0XCIgfSksXG5dXG5cbnR5cGUgVGVhY2hlciA9IHR5cGVvZiB0ZWFjaGVyXG5cbmV4cG9ydCB7IHRlYWNoZXIsIHRlYWNoZXJzLCBUZWFjaGVyIH1cbiIsImltcG9ydCB7IGNvdXJzZXMgfSBmcm9tIFwiLi4vbW9kZWxzL2NvdXJzZVwiXG5pbXBvcnQgeyBzdHVkZW50cyB9IGZyb20gXCIuLi9tb2RlbHMvc3R1ZGVudHNcIlxuaW1wb3J0IHsgUGVyc29uIH0gZnJvbSBcIi4uL3R5cGVzXCJcbmltcG9ydCB7IGxpc3RWaWV3IH0gZnJvbSBcIi4uL3ZpZXdzL2xpc3Qtdmlld1wiXG5pbXBvcnQgeyBtb2RhbFZpZXcgfSBmcm9tIFwiLi4vdmlld3MvbW9kYWwtdmlld1wiXG5cbmNvbnN0IHN0dWRlbnRDb250cm9sbGVyID0gKHBhcmVudEVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50KSA9PiB7XG4gIGNvbnN0IHZpZXcgPSBsaXN0VmlldyhwYXJlbnRFbGVtZW50LCBzdHVkZW50cywgXCJzdHVkZW50c1wiLCBbXCJuYW1lXCIsIFwiZW1haWxcIiwgXCJhZ2VcIl0pXG5cbiAgY29uc3QgcmVuZGVyID0gKCkgPT4ge1xuICAgIHZpZXcuaW5pdCgpXG4gIH1cblxuICBjb25zdCBnZXRTdHVkZW50ID0gKGlkOiBudW1iZXIpID0+IHtcbiAgICBjb25zdCBzdHVkZW50ID0gc3R1ZGVudHMuZmluZChzdHVkZW50ID0+IHN0dWRlbnQuaWQgPT09IGlkKSBhcyBQZXJzb25cbiAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxcIikgYXMgSFRNTERpdkVsZW1lbnRcbiAgICBtb2RhbFZpZXcobW9kYWwsIHN0dWRlbnQsIGNvdXJzZXMsIFwiY291cnNlc1wiLCBbXCJ0aXRsZVwiLCBcImR1cmF0aW9uXCJdKS5pbml0KClcbiAgfVxuXG4gIGNvbnN0IGhhbmRsZUNsaWNrID0gKCkgPT4ge1xuICAgIHZpZXcub25DbGljayhnZXRTdHVkZW50KVxuICB9XG5cbiAgY29uc3QgaW5pdCA9ICgpID0+IHtcbiAgICByZW5kZXIoKVxuICAgIGhhbmRsZUNsaWNrKClcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgaW5pdCxcbiAgfVxufVxuXG5leHBvcnQgeyBzdHVkZW50Q29udHJvbGxlciB9XG4iLCJjb25zdCBsaXN0VmlldyA9IDxUPihwYXJlbnRFbGVtZW50OiBIVE1MRGl2RWxlbWVudCwgeHM6IFRbXSwgdGl0bGU6IHN0cmluZywgc3ViVGl0bGVzOiBzdHJpbmdbXSkgPT4ge1xuICBjb25zdCByYXdIdG1sID0gKCkgPT5cbiAgICBgICAgXG4gICAgPGRpdiBjbGFzcz1cInRhYmxlLXdyYXBwZXIgd3JhcHBlci0ke3RpdGxlfVwiPlxuICAgIDx0YWJsZSBjbGFzcz1cIiR7dGl0bGV9XCI+XG4gICAgICAgIDxjYXB0aW9uPiR7dGl0bGV9PC9jYXB0aW9uPlxuICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgJHtzdWJUaXRsZXMubWFwKHQgPT4gYDx0aD4ke3R9PC90aD5gKS5qb2luKFwiXCIpfVxuICAgICAgICA8L3RoZWFkPlxuICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgJHt4c1xuICAgICAgICAgICAgLm1hcCgoZGF0YTogYW55KSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHNob3dDYXNlID0gZGF0YS5zaG93Q2FzZSgpXG4gICAgICAgICAgICAgIHJldHVybiBgXG4gICAgICAgICAgICAgICAgPHRyIGRhdGEtaWQ9XCIke2RhdGEuaWR9XCIgaWQ9XCIke1xuICAgICAgICAgICAgICAgIGRhdGEudHlwZSA9PT0gXCJzXCJcbiAgICAgICAgICAgICAgICAgID8gYHN0dWRlbnQtJHtkYXRhLmlkfWBcbiAgICAgICAgICAgICAgICAgIDogZGF0YS50eXBlID09PSBcInRcIlxuICAgICAgICAgICAgICAgICAgPyBgdGVhY2hlci0ke2RhdGEuaWR9YFxuICAgICAgICAgICAgICAgICAgOiBgY291cnNlLSR7ZGF0YS5pZH1gXG4gICAgICAgICAgICAgIH1cIj5cbiAgICAgICAgICAgICAgICAke09iamVjdC5rZXlzKHNob3dDYXNlKVxuICAgICAgICAgICAgICAgICAgLm1hcChrZXkgPT4gYDx0ZCBkYXRhLWluZm89XCIke3Nob3dDYXNlW2tleV19XCI+JHtzaG93Q2FzZVtrZXldfTwvdGQ+YClcbiAgICAgICAgICAgICAgICAgIC5qb2luKFwiXCIpfVxuICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgYFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5qb2luKFwiXCIpfVxuICAgICAgICA8L3Rib2R5PlxuICAgICAgPC90YWJsZT5cbiAgICA8L2Rpdj5cbiAgICBgXG5cbiAgY29uc3QgcmVuZGVyID0gKCkgPT4ge1xuICAgIHBhcmVudEVsZW1lbnQuaW5uZXJIVE1MID0gcmF3SHRtbCgpXG4gIH1cblxuICBjb25zdCBvbkNsaWNrID0gKGhhbmRsZXI6IEZ1bmN0aW9uKSA9PiB7XG4gICAgY29uc3QgdHJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcInRyXCIpXG4gICAgdHJzLmZvckVhY2godHIgPT5cbiAgICAgIHRyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IFt0eXBlXSA9IHRyLmlkLnNwbGl0KFwiLVwiKVxuICAgICAgICBpZiAodHlwZSA9PT0gXCJzdHVkZW50XCIpIHtcbiAgICAgICAgICBoYW5kbGVyKHBhcnNlSW50KHRyLmRhdGFzZXQuaWQhLCAxMCkpXG4gICAgICAgIH1cbiAgICAgICAgLy8gc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcInVzZXJcIiwgU3RyaW5nKHRyLmRhdGFzZXQuaWQpKVxuICAgICAgfSlcbiAgICApXG4gIH1cblxuICBjb25zdCBpbml0ID0gKCkgPT4ge1xuICAgIHJlbmRlcigpXG4gIH1cblxuICByZXR1cm4ge1xuICAgIGluaXQsXG4gICAgcmF3SHRtbCxcbiAgICBvbkNsaWNrLFxuICB9XG59XG5cbmV4cG9ydCB7IGxpc3RWaWV3IH1cbiIsImltcG9ydCB7IFN1YmplY3QgfSBmcm9tIFwiLi4vdHlwZXNcIlxuXG5jb25zdCBjb3Vyc2UgPSAoaWQ6IG51bWJlciwgdGl0bGU6IFN1YmplY3QsIGFib3V0OiBzdHJpbmcsIGR1cmF0aW9uOiBzdHJpbmcpID0+IHtcbiAgY29uc3Qgc2hvd0Nhc2UgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRpdGxlLFxuICAgICAgZHVyYXRpb24sXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpZCxcbiAgICB0aXRsZSxcbiAgICBhYm91dCxcbiAgICBkdXJhdGlvbixcbiAgICBzaG93Q2FzZSxcbiAgfVxufVxuXG50eXBlIENvdXJzZVR5cGUgPSB0eXBlb2YgY291cnNlXG5cbmNvbnN0IGNvdXJzZXMgPSBbXG4gIGNvdXJzZSgxLCBcImZyZW5jaFwiLCBcImZyZW5jaCBjbGFzc1wiLCBcIjVoXCIpLFxuICBjb3Vyc2UoMiwgXCJoaXN0b3J5XCIsIFwiaGlzdG9yeSBjbGFzc1wiLCBcIjNoXCIpLFxuICBjb3Vyc2UoMywgXCJtYXRoXCIsIFwibWF0aCBjbGFzc1wiLCBcIjRoXCIpLFxuICBjb3Vyc2UoNCwgXCJlbmdsaXNoXCIsIFwiZW5nbGlzaCBjbGFzc1wiLCBcIjNoXCIpLFxuXVxuXG5leHBvcnQgeyBjb3Vyc2UsIGNvdXJzZXMsIENvdXJzZVR5cGUgfVxuIiwiaW1wb3J0IHsgUGVyc29uIH0gZnJvbSBcIi4uL3R5cGVzXCJcblxuY29uc3Qgc3R1ZGVudCA9ICh7IGlkLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBlbWFpbCwgYWdlLCB0eXBlIH06IFBlcnNvbikgPT4ge1xuICBjb25zdCBzaG93Q2FzZSA9ICgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogYCR7Zmlyc3ROYW1lfSAke2xhc3ROYW1lfWAsXG4gICAgICBlbWFpbCxcbiAgICAgIGFnZTogYCR7YWdlfWAsXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpZCxcbiAgICBmaXJzdE5hbWUsXG4gICAgbGFzdE5hbWUsXG4gICAgZW1haWwsXG4gICAgYWdlLFxuICAgIHR5cGUsXG4gICAgc2hvd0Nhc2UsXG4gIH1cbn1cblxudHlwZSBTdHVkZW50ID0gdHlwZW9mIHN0dWRlbnRcbmNvbnN0IHN0dWRlbnRzID0gW1xuICBzdHVkZW50KHsgaWQ6IDEsIGZpcnN0TmFtZTogXCJib2JcIiwgbGFzdE5hbWU6IFwic21pdGhcIiwgZW1haWw6IFwiYm9iQGlvLmNvbVwiLCBhZ2U6IDE3LCB0eXBlOiBcInNcIiB9KSxcbiAgc3R1ZGVudCh7IGlkOiAyLCBmaXJzdE5hbWU6IFwiam9lXCIsIGxhc3ROYW1lOiBcImpvbnNzb25cIiwgZW1haWw6IFwiam9lQGlvLmNvbVwiLCBhZ2U6IDE4LCB0eXBlOiBcInNcIiB9KSxcbiAgc3R1ZGVudCh7IGlkOiAzLCBmaXJzdE5hbWU6IFwicGhpbGlwXCIsIGxhc3ROYW1lOiBcIm9jb25ub3JcIiwgZW1haWw6IFwicGhAaW8uY29tXCIsIGFnZTogMTYsIHR5cGU6IFwic1wiIH0pLFxuICBzdHVkZW50KHsgaWQ6IDQsIGZpcnN0TmFtZTogXCJhbm5hXCIsIGxhc3ROYW1lOiBcImZyYW5rbGluXCIsIGVtYWlsOiBcImFubmFAaW8uY29tXCIsIGFnZTogMjEsIHR5cGU6IFwic1wiIH0pLFxuXVxuXG5leHBvcnQgeyBzdHVkZW50LCBzdHVkZW50cywgU3R1ZGVudCB9XG4iLCJpbXBvcnQgeyB0ZWFjaGVyQ29udHJvbGxlciB9IGZyb20gXCIuL3dlc2NvYXN0My4wL2NvbnRyb2xsZXJzL3RlYWNoZXJcIlxuaW1wb3J0IHsgc3R1ZGVudENvbnRyb2xsZXIgfSBmcm9tIFwiLi93ZXNjb2FzdDMuMC9jb250cm9sbGVycy9zdHVkZW50XCJcbmltcG9ydCB7IGNvdXJzZUNvbnRyb2xsZXIgfSBmcm9tIFwiLi93ZXNjb2FzdDMuMC9jb250cm9sbGVycy9jb3Vyc2VcIlxuOygoKSA9PiB7XG4gIHN0dWRlbnRDb250cm9sbGVyKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3R1ZGVudHNcIikgYXMgSFRNTERpdkVsZW1lbnQpLmluaXQoKVxuICB0ZWFjaGVyQ29udHJvbGxlcihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRlYWNoZXJzXCIpIGFzIEhUTUxEaXZFbGVtZW50KS5pbml0KClcbn0pKClcbiIsImltcG9ydCB7IFBlcnNvbiwgU3ViamVjdCB9IGZyb20gXCIuLi90eXBlc1wiXG5pbXBvcnQgeyBsaXN0VmlldyB9IGZyb20gXCIuL2xpc3Qtdmlld1wiXG5cbmV4cG9ydCBpbnRlcmZhY2UgTGlzdGVuZXI8VD4ge1xuICBldmVudDogeyB0YXJnZXQ6IFQgfVxufVxuXG5jb25zdCBtb2RhbFZpZXcgPSA8VD4oXG4gIHBhcmVudEVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50LFxuICBwZXJzb246IFBlcnNvbixcbiAgeHM6IFRbXSxcbiAgdGl0bGU6IHN0cmluZyxcbiAgc3ViVGl0bGVzOiBzdHJpbmdbXVxuKSA9PiB7XG4gIGNvbnN0IHZpZXcgPSBsaXN0VmlldyhwYXJlbnRFbGVtZW50LCB4cywgdGl0bGUsIHN1YlRpdGxlcylcblxuICBjb25zdCByZW5kZXIgPSAoKSA9PiB7XG4gICAgcGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwic2hvdy1tb2RhbFwiKVxuICAgIGNvbnN0IGh0bWwgPSBgXG4gICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRhaW5lclwiPlxuICAgICAgJHt2aWV3LnJhd0h0bWwoKX1cbiAgICAgIDxidXR0b24gY2xhc3M9XCJjbG9zZS1tb2RhbFwiPlxuICAgICAgICDinYxcbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICAgIGBcbiAgICBwYXJlbnRFbGVtZW50LmlubmVySFRNTCA9IGh0bWxcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNsb3NlLW1vZGFsXCIpPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgcGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwic2hvdy1tb2RhbFwiKVxuICAgIH0pXG5cbiAgICBjb25zdCB0ZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsIHRib2R5IHRyIHRkXCIpIGFzIE5vZGVMaXN0XG5cbiAgICBBcnJheS5mcm9tKHRkcykuZm9yRWFjaCh0ZCA9PiB7XG4gICAgICBjb25zdCB0ZEVsZW1lbnQgPSB0ZCBhcyBIVE1MRWxlbWVudFxuICAgICAgY29uc3QgaW5mbyA9IHRkRWxlbWVudC5kYXRhc2V0LmluZm8gYXMgU3ViamVjdFxuXG4gICAgICBpZiAoaW5mbyA9PT0gXCJlbmdsaXNoXCIgfHwgaW5mbyA9PT0gXCJmcmVuY2hcIiB8fCBpbmZvID09PSBcImhpc3RvcnlcIiB8fCBpbmZvID09PSBcIm1hdGhcIikge1xuICAgICAgICB0ZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50OiBhbnkpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcImluZm9cIiwgaW5mbylcbiAgICAgICAgICAvLyBpZiAoXCJzZW5kXCIgaW4gdGhpcy5kYXRhKSB7XG4gICAgICAgICAgLy8gICBjb25zdCBjb25maXJtYXRpb25UZXh0ID0gYFlvdSBoYXZlIG5vdyBiZWVuIHJlZ2lzdGVyZWQgdG8gdGhlICR7ZXZlbnQudGFyZ2V0LmlubmVyVGV4dH0gQ291cnNlYFxuICAgICAgICAgIC8vICAgdGhpcy5kYXRhLnNlbmQoY29uZmlybWF0aW9uVGV4dCwgdGhpcy5hZG1pbikgLy8gc2VuZGluZyBmcm9tIHRoaXMgc3R1ZGVudCwgdG8gaXRzZWxmIGFuZCB0byBhZG1pblxuICAgICAgICAgIC8vICAgdGhpcy51cGRhdGVUZXh0KGNvbmZpcm1hdGlvblRleHQpXG4gICAgICAgICAgLy8gICBjb25zb2xlLmxvZyh0aGlzLmFkbWluLmFkbWluTWVkaWF0b3I/Lm1lbWJlcnMpXG4gICAgICAgICAgLy8gICB0aGlzLnVwZGF0ZUh0bWwoKVxuICAgICAgICAgIC8vIH1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgY29uc3QgaW5pdCA9ICgpID0+IHtcbiAgICByZW5kZXIoKVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpbml0LFxuICB9XG59XG5cbmV4cG9ydCB7IG1vZGFsVmlldyB9XG4iLCJpbXBvcnQgeyB0ZWFjaGVycyB9IGZyb20gXCIuLi9tb2RlbHMvdGVhY2hlclwiXG5pbXBvcnQgeyBsaXN0VmlldyB9IGZyb20gXCIuLi92aWV3cy9saXN0LXZpZXdcIlxuXG5jb25zdCB0ZWFjaGVyQ29udHJvbGxlciA9IChwYXJlbnRFbGVtZW50OiBIVE1MRGl2RWxlbWVudCkgPT4ge1xuICBjb25zdCB2aWV3ID0gbGlzdFZpZXcocGFyZW50RWxlbWVudCwgdGVhY2hlcnMsIFwidGVhY2hlcnNcIiwgW1wibmFtZVwiLCBcImVtYWlsXCIsIFwiYWdlXCJdKVxuXG4gIGNvbnN0IHJlbmRlciA9ICgpID0+IHtcbiAgICB2aWV3LmluaXQoKVxuICB9XG5cbiAgY29uc3QgaW5pdCA9ICgpID0+IHtcbiAgICByZW5kZXIoKVxuICB9XG4gIHJldHVybiB7XG4gICAgaW5pdCxcbiAgfVxufVxuXG5leHBvcnQgeyB0ZWFjaGVyQ29udHJvbGxlciB9XG4iXSwic291cmNlUm9vdCI6IiJ9